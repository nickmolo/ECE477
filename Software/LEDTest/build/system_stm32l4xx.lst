ARM GAS  /tmp/cc1IMfhe.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.fpu fpv4-sp-d16
   5              		.eabi_attribute 20, 1
   6              		.eabi_attribute 21, 1
   7              		.eabi_attribute 23, 3
   8              		.eabi_attribute 24, 1
   9              		.eabi_attribute 25, 1
  10              		.eabi_attribute 26, 1
  11              		.eabi_attribute 30, 6
  12              		.eabi_attribute 34, 1
  13              		.eabi_attribute 18, 4
  14              		.thumb
  15              		.file	"system_stm32l4xx.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.global	SystemCoreClock
  20              		.section	.data.SystemCoreClock,"aw",%progbits
  21              		.align	2
  24              	SystemCoreClock:
  25 0000 00093D00 		.word	4000000
  26              		.global	AHBPrescTable
  27              		.section	.rodata.AHBPrescTable,"a",%progbits
  28              		.align	2
  31              	AHBPrescTable:
  32 0000 00       		.byte	0
  33 0001 00       		.byte	0
  34 0002 00       		.byte	0
  35 0003 00       		.byte	0
  36 0004 00       		.byte	0
  37 0005 00       		.byte	0
  38 0006 00       		.byte	0
  39 0007 00       		.byte	0
  40 0008 01       		.byte	1
  41 0009 02       		.byte	2
  42 000a 03       		.byte	3
  43 000b 04       		.byte	4
  44 000c 06       		.byte	6
  45 000d 07       		.byte	7
  46 000e 08       		.byte	8
  47 000f 09       		.byte	9
  48              		.global	MSIRangeTable
  49              		.section	.rodata.MSIRangeTable,"a",%progbits
  50              		.align	2
  53              	MSIRangeTable:
  54 0000 A0860100 		.word	100000
  55 0004 400D0300 		.word	200000
  56 0008 801A0600 		.word	400000
  57 000c 00350C00 		.word	800000
  58 0010 40420F00 		.word	1000000
  59 0014 80841E00 		.word	2000000
  60 0018 00093D00 		.word	4000000
  61 001c 00127A00 		.word	8000000
  62 0020 0024F400 		.word	16000000
  63 0024 00366E01 		.word	24000000
ARM GAS  /tmp/cc1IMfhe.s 			page 2


  64 0028 0048E801 		.word	32000000
  65 002c 006CDC02 		.word	48000000
  66              		.section	.text.SystemInit,"ax",%progbits
  67              		.align	2
  68              		.global	SystemInit
  69              		.thumb
  70              		.thumb_func
  72              	SystemInit:
  73              	.LFB125:
  74              		.file 1 "Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c"
   1:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** /**
   2:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   ******************************************************************************
   3:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @file    system_stm32l4xx.c
   4:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @author  MCD Application Team
   5:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @version V1.0.1
   6:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @date    16-September-2015
   7:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @brief   CMSIS Cortex-M4 Device Peripheral Access Layer System Source File
   8:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *
   9:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *   This file provides two functions and one global variable to be called from
  10:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *   user application:
  11:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *      - SystemInit(): This function is called at startup just after reset and
  12:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *                      before branch to main program. This call is made inside
  13:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *                      the "startup_stm32l4xx.s" file.
  14:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *
  15:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *      - SystemCoreClock variable: Contains the core clock (HCLK), it can be used
  16:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *                                  by the user application to setup the SysTick
  17:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *                                  timer or configure other parameters.
  18:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *
  19:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *      - SystemCoreClockUpdate(): Updates the variable SystemCoreClock and must
  20:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *                                 be called whenever the core clock is changed
  21:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *                                 during program execution.
  22:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *
  23:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *   After each device reset the MSI (4 MHz) is used as system clock source.
  24:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *   Then SystemInit() function is called, in "startup_stm32l4xx.s" file, to
  25:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *   configure the system clock before to branch to main program.
  26:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *
  27:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *   This file configures the system clock as follows:
  28:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *=============================================================================
  29:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *-----------------------------------------------------------------------------
  30:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *        System Clock source                    | MSI
  31:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *-----------------------------------------------------------------------------
  32:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *        SYSCLK(Hz)                             | 4000000
  33:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *-----------------------------------------------------------------------------
  34:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *        HCLK(Hz)                               | 4000000
  35:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *-----------------------------------------------------------------------------
  36:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *        AHB Prescaler                          | 1
  37:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *-----------------------------------------------------------------------------
  38:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *        APB1 Prescaler                         | 1
  39:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *-----------------------------------------------------------------------------
  40:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *        APB2 Prescaler                         | 1
  41:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *-----------------------------------------------------------------------------
  42:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *        PLL_M                                  | 1
  43:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *-----------------------------------------------------------------------------
  44:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *        PLL_N                                  | 8
  45:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *-----------------------------------------------------------------------------
  46:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *        PLL_P                                  | 7
  47:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *-----------------------------------------------------------------------------
ARM GAS  /tmp/cc1IMfhe.s 			page 3


  48:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *        PLL_Q                                  | 2
  49:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *-----------------------------------------------------------------------------
  50:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *        PLL_R                                  | 2
  51:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *-----------------------------------------------------------------------------
  52:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *        PLLSAI1_P                              | NA
  53:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *-----------------------------------------------------------------------------
  54:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *        PLLSAI1_Q                              | NA
  55:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *-----------------------------------------------------------------------------
  56:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *        PLLSAI1_R                              | NA
  57:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *-----------------------------------------------------------------------------
  58:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *        PLLSAI2_P                              | NA
  59:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *-----------------------------------------------------------------------------
  60:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *        PLLSAI2_Q                              | NA
  61:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *-----------------------------------------------------------------------------
  62:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *        PLLSAI2_R                              | NA
  63:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *-----------------------------------------------------------------------------
  64:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *        Require 48MHz for USB OTG FS,          | Disabled
  65:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *        SDIO and RNG clock                     |
  66:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *-----------------------------------------------------------------------------
  67:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *=============================================================================
  68:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   ******************************************************************************
  69:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @attention
  70:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *
  71:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * <h2><center>&copy; COPYRIGHT(c) 2015 STMicroelectronics</center></h2>
  72:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *
  73:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * Redistribution and use in source and binary forms, with or without modification,
  74:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * are permitted provided that the following conditions are met:
  75:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *   1. Redistributions of source code must retain the above copyright notice,
  76:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *      this list of conditions and the following disclaimer.
  77:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *   2. Redistributions in binary form must reproduce the above copyright notice,
  78:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *      this list of conditions and the following disclaimer in the documentation
  79:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *      and/or other materials provided with the distribution.
  80:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *   3. Neither the name of STMicroelectronics nor the names of its contributors
  81:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *      may be used to endorse or promote products derived from this software
  82:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *      without specific prior written permission.
  83:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *
  84:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
  85:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
  86:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
  87:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
  88:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
  89:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
  90:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
  91:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
  92:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
  93:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
  94:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *
  95:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   ******************************************************************************
  96:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   */
  97:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
  98:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** /** @addtogroup CMSIS
  99:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @{
 100:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   */
 101:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 102:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** /** @addtogroup stm32l4xx_system
 103:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @{
 104:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   */
ARM GAS  /tmp/cc1IMfhe.s 			page 4


 105:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 106:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** /** @addtogroup STM32L4xx_System_Private_Includes
 107:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @{
 108:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   */
 109:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 110:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** #include "stm32l4xx.h"
 111:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 112:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** #if !defined  (HSE_VALUE)
 113:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   #define HSE_VALUE    ((uint32_t)8000000) /*!< Value of the External oscillator in Hz */
 114:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** #endif /* HSE_VALUE */
 115:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 116:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** #if !defined  (MSI_VALUE)
 117:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   #define MSI_VALUE    ((uint32_t)4000000) /*!< Value of the Internal oscillator in Hz*/
 118:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** #endif /* MSI_VALUE */
 119:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 120:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** #if !defined  (HSI_VALUE)
 121:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   #define HSI_VALUE    ((uint32_t)16000000) /*!< Value of the Internal oscillator in Hz*/
 122:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** #endif /* HSI_VALUE */
 123:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 124:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** /**
 125:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @}
 126:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   */
 127:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 128:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** /** @addtogroup STM32L4xx_System_Private_TypesDefinitions
 129:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @{
 130:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   */
 131:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 132:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** /**
 133:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @}
 134:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   */
 135:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 136:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** /** @addtogroup STM32L4xx_System_Private_Defines
 137:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @{
 138:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   */
 139:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 140:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** /************************* Miscellaneous Configuration ************************/
 141:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** /*!< Uncomment the following line if you need to relocate your vector Table in
 142:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****      Internal SRAM. */
 143:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** /* #define VECT_TAB_SRAM */
 144:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** #define VECT_TAB_OFFSET  0x00 /*!< Vector Table base offset field.
 145:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****                                    This value must be a multiple of 0x200. */
 146:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** /******************************************************************************/
 147:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** /**
 148:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @}
 149:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   */
 150:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 151:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** /** @addtogroup STM32L4xx_System_Private_Macros
 152:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @{
 153:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   */
 154:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 155:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** /**
 156:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @}
 157:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   */
 158:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 159:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** /** @addtogroup STM32L4xx_System_Private_Variables
 160:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @{
 161:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   */
ARM GAS  /tmp/cc1IMfhe.s 			page 5


 162:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   /* This variable is updated in three ways:
 163:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****       1) by calling CMSIS function SystemCoreClockUpdate()
 164:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****       2) by calling HAL API function HAL_RCC_GetHCLKFreq()
 165:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****       3) each time HAL_RCC_ClockConfig() is called to configure the system clock frequency
 166:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****          Note: If you use this function to configure the system clock; then there
 167:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****                is no need to call the 2 first functions listed above, since SystemCoreClock
 168:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****                variable is updated automatically.
 169:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   */
 170:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   uint32_t SystemCoreClock = 4000000;
 171:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 172:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   const uint8_t  AHBPrescTable[16] = {0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 3, 4, 6, 7, 8, 9};
 173:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   const uint32_t MSIRangeTable[12] = {100000, 200000, 400000, 800000, 1000000, 2000000, \
 174:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****                                       4000000, 8000000, 16000000, 24000000, 32000000, 48000000};
 175:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** /**
 176:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @}
 177:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   */
 178:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 179:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** /** @addtogroup STM32L4xx_System_Private_FunctionPrototypes
 180:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @{
 181:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   */
 182:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 183:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** /**
 184:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @}
 185:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   */
 186:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 187:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** /** @addtogroup STM32L4xx_System_Private_Functions
 188:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @{
 189:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   */
 190:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 191:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** /**
 192:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @brief  Setup the microcontroller system.
 193:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @param  None
 194:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @retval None
 195:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   */
 196:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 197:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** void SystemInit(void)
 198:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** {
  75              		.loc 1 198 0
  76              		.cfi_startproc
  77              		@ args = 0, pretend = 0, frame = 0
  78              		@ frame_needed = 1, uses_anonymous_args = 0
  79              		@ link register save eliminated.
  80 0000 80B4     		push	{r7}
  81              	.LCFI0:
  82              		.cfi_def_cfa_offset 4
  83              		.cfi_offset 7, -4
  84 0002 00AF     		add	r7, sp, #0
  85              	.LCFI1:
  86              		.cfi_def_cfa_register 7
 199:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   /* FPU settings ------------------------------------------------------------*/
 200:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   #if (__FPU_PRESENT == 1) && (__FPU_USED == 1)
 201:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****     SCB->CPACR |= ((3UL << 10*2)|(3UL << 11*2));  /* set CP10 and CP11 Full Access */
  87              		.loc 1 201 0
  88 0004 164A     		ldr	r2, .L2
  89 0006 164B     		ldr	r3, .L2
  90 0008 D3F88830 		ldr	r3, [r3, #136]
  91 000c 43F47003 		orr	r3, r3, #15728640
ARM GAS  /tmp/cc1IMfhe.s 			page 6


  92 0010 C2F88830 		str	r3, [r2, #136]
 202:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   #endif
 203:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   /* Reset the RCC clock configuration to the default reset state ------------*/
 204:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   /* Set MSION bit */
 205:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   RCC->CR |= RCC_CR_MSION;
  93              		.loc 1 205 0
  94 0014 134A     		ldr	r2, .L2+4
  95 0016 134B     		ldr	r3, .L2+4
  96 0018 1B68     		ldr	r3, [r3]
  97 001a 43F00103 		orr	r3, r3, #1
  98 001e 1360     		str	r3, [r2]
 206:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 207:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   /* Reset CFGR register */
 208:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   RCC->CFGR = 0x00000000;
  99              		.loc 1 208 0
 100 0020 104B     		ldr	r3, .L2+4
 101 0022 0022     		movs	r2, #0
 102 0024 9A60     		str	r2, [r3, #8]
 209:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 210:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   /* Reset HSEON, CSSON , HSION, and PLLON bits */
 211:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   RCC->CR &= (uint32_t)0xEAF6FFFF;
 103              		.loc 1 211 0
 104 0026 0F4A     		ldr	r2, .L2+4
 105 0028 0E4B     		ldr	r3, .L2+4
 106 002a 1B68     		ldr	r3, [r3]
 107 002c 23F0A853 		bic	r3, r3, #352321536
 108 0030 23F41023 		bic	r3, r3, #589824
 109 0034 1360     		str	r3, [r2]
 212:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 213:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   /* Reset PLLCFGR register */
 214:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   RCC->PLLCFGR = 0x00000800;
 110              		.loc 1 214 0
 111 0036 0B4B     		ldr	r3, .L2+4
 112 0038 4FF40062 		mov	r2, #2048
 113 003c DA60     		str	r2, [r3, #12]
 215:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 216:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   /* Reset HSEBYP bit */
 217:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   RCC->CR &= (uint32_t)0xFFFBFFFF;
 114              		.loc 1 217 0
 115 003e 094A     		ldr	r2, .L2+4
 116 0040 084B     		ldr	r3, .L2+4
 117 0042 1B68     		ldr	r3, [r3]
 118 0044 23F48023 		bic	r3, r3, #262144
 119 0048 1360     		str	r3, [r2]
 218:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 219:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   /* Disable all interrupts */
 220:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   RCC->CIER = 0x00000000;
 120              		.loc 1 220 0
 121 004a 064B     		ldr	r3, .L2+4
 122 004c 0022     		movs	r2, #0
 123 004e 9A61     		str	r2, [r3, #24]
 221:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 222:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   /* Configure the Vector Table location add offset address ------------------*/
 223:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** #ifdef VECT_TAB_SRAM
 224:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   SCB->VTOR = SRAM_BASE | VECT_TAB_OFFSET; /* Vector Table Relocation in Internal SRAM */
 225:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** #else
 226:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   SCB->VTOR = FLASH_BASE | VECT_TAB_OFFSET; /* Vector Table Relocation in Internal FLASH */
ARM GAS  /tmp/cc1IMfhe.s 			page 7


 124              		.loc 1 226 0
 125 0050 034B     		ldr	r3, .L2
 126 0052 4FF00062 		mov	r2, #134217728
 127 0056 9A60     		str	r2, [r3, #8]
 227:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** #endif
 228:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** }
 128              		.loc 1 228 0
 129 0058 BD46     		mov	sp, r7
 130              	.LCFI2:
 131              		.cfi_def_cfa_register 13
 132              		@ sp needed
 133 005a 5DF8047B 		ldr	r7, [sp], #4
 134              	.LCFI3:
 135              		.cfi_restore 7
 136              		.cfi_def_cfa_offset 0
 137 005e 7047     		bx	lr
 138              	.L3:
 139              		.align	2
 140              	.L2:
 141 0060 00ED00E0 		.word	-536810240
 142 0064 00100240 		.word	1073876992
 143              		.cfi_endproc
 144              	.LFE125:
 146              		.section	.text.SystemCoreClockUpdate,"ax",%progbits
 147              		.align	2
 148              		.global	SystemCoreClockUpdate
 149              		.thumb
 150              		.thumb_func
 152              	SystemCoreClockUpdate:
 153              	.LFB126:
 229:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 230:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** /**
 231:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @brief  Update SystemCoreClock variable according to Clock Register Values.
 232:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *         The SystemCoreClock variable contains the core clock (HCLK), it can
 233:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *         be used by the user application to setup the SysTick timer or configure
 234:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *         other parameters.
 235:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *
 236:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @note   Each time the core clock (HCLK) changes, this function must be called
 237:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *         to update SystemCoreClock variable value. Otherwise, any configuration
 238:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *         based on this variable will be incorrect.
 239:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *
 240:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @note   - The system frequency computed by this function is not the real
 241:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *           frequency in the chip. It is calculated based on the predefined
 242:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *           constant and the selected clock source:
 243:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *
 244:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *           - If SYSCLK source is MSI, SystemCoreClock will contain the MSI_VALUE(*)
 245:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *
 246:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *           - If SYSCLK source is HSI, SystemCoreClock will contain the HSI_VALUE(**)
 247:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *
 248:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *           - If SYSCLK source is HSE, SystemCoreClock will contain the HSE_VALUE(***)
 249:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *
 250:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *           - If SYSCLK source is PLL, SystemCoreClock will contain the HSE_VALUE(***)
 251:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *             or HSI_VALUE(*) or MSI_VALUE(*) multiplied/divided by the PLL factors.
 252:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *
 253:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *         (*) MSI_VALUE is a constant defined in stm32l4xx_hal.h file (default value
 254:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *             4 MHz) but the real value may vary depending on the variations
 255:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *             in voltage and temperature.
ARM GAS  /tmp/cc1IMfhe.s 			page 8


 256:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *
 257:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *         (**) HSI_VALUE is a constant defined in stm32l4xx_hal.h file (default value
 258:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *              16 MHz) but the real value may vary depending on the variations
 259:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *              in voltage and temperature.
 260:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *
 261:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *         (***) HSE_VALUE is a constant defined in stm32l4xx_hal.h file (default value
 262:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *              8 MHz), user has to ensure that HSE_VALUE is same as the real
 263:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *              frequency of the crystal used. Otherwise, this function may
 264:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *              have wrong result.
 265:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *
 266:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *         - The result of this function could be not correct when using fractional
 267:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *           value for HSE crystal.
 268:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   *
 269:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @param  None
 270:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   * @retval None
 271:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   */
 272:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** void SystemCoreClockUpdate(void)
 273:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** {
 154              		.loc 1 273 0
 155              		.cfi_startproc
 156              		@ args = 0, pretend = 0, frame = 24
 157              		@ frame_needed = 1, uses_anonymous_args = 0
 158              		@ link register save eliminated.
 159 0000 80B4     		push	{r7}
 160              	.LCFI4:
 161              		.cfi_def_cfa_offset 4
 162              		.cfi_offset 7, -4
 163 0002 87B0     		sub	sp, sp, #28
 164              	.LCFI5:
 165              		.cfi_def_cfa_offset 32
 166 0004 00AF     		add	r7, sp, #0
 167              	.LCFI6:
 168              		.cfi_def_cfa_register 7
 274:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   uint32_t tmp = 0, msirange = 0, pllvco = 0, pllr = 2, pllsource = 0, pllm = 2;
 169              		.loc 1 274 0
 170 0006 0023     		movs	r3, #0
 171 0008 FB60     		str	r3, [r7, #12]
 172 000a 0023     		movs	r3, #0
 173 000c 7B61     		str	r3, [r7, #20]
 174 000e 0023     		movs	r3, #0
 175 0010 3B61     		str	r3, [r7, #16]
 176 0012 0223     		movs	r3, #2
 177 0014 BB60     		str	r3, [r7, #8]
 178 0016 0023     		movs	r3, #0
 179 0018 7B60     		str	r3, [r7, #4]
 180 001a 0223     		movs	r3, #2
 181 001c 3B60     		str	r3, [r7]
 275:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 276:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   /* Get MSI Range frequency--------------------------------------------------*/
 277:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   if((RCC->CR & RCC_CR_MSIRGSEL) == RESET)
 182              		.loc 1 277 0
 183 001e 4E4B     		ldr	r3, .L19
 184 0020 1B68     		ldr	r3, [r3]
 185 0022 03F00803 		and	r3, r3, #8
 186 0026 002B     		cmp	r3, #0
 187 0028 07D1     		bne	.L5
 278:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   { /* MSISRANGE from RCC_CSR applies */
ARM GAS  /tmp/cc1IMfhe.s 			page 9


 279:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****     msirange = (RCC->CSR & RCC_CSR_MSISRANGE) >> 8;
 188              		.loc 1 279 0
 189 002a 4B4B     		ldr	r3, .L19
 190 002c D3F89430 		ldr	r3, [r3, #148]
 191 0030 03F47063 		and	r3, r3, #3840
 192 0034 1B0A     		lsrs	r3, r3, #8
 193 0036 7B61     		str	r3, [r7, #20]
 194 0038 05E0     		b	.L6
 195              	.L5:
 280:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   }
 281:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   else
 282:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   { /* MSIRANGE from RCC_CR applies */
 283:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****     msirange = (RCC->CR & RCC_CR_MSIRANGE) >> 4;
 196              		.loc 1 283 0
 197 003a 474B     		ldr	r3, .L19
 198 003c 1B68     		ldr	r3, [r3]
 199 003e 03F0F003 		and	r3, r3, #240
 200 0042 1B09     		lsrs	r3, r3, #4
 201 0044 7B61     		str	r3, [r7, #20]
 202              	.L6:
 284:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   }
 285:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   /*MSI frequency range in HZ*/
 286:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   msirange = MSIRangeTable[msirange];
 203              		.loc 1 286 0
 204 0046 454A     		ldr	r2, .L19+4
 205 0048 7B69     		ldr	r3, [r7, #20]
 206 004a 52F82330 		ldr	r3, [r2, r3, lsl #2]
 207 004e 7B61     		str	r3, [r7, #20]
 287:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 288:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   /* Get SYSCLK source -------------------------------------------------------*/
 289:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   switch (RCC->CFGR & RCC_CFGR_SWS)
 208              		.loc 1 289 0
 209 0050 414B     		ldr	r3, .L19
 210 0052 9B68     		ldr	r3, [r3, #8]
 211 0054 03F00C03 		and	r3, r3, #12
 212 0058 0C2B     		cmp	r3, #12
 213 005a 65D8     		bhi	.L7
 214 005c 01A2     		adr	r2, .L9
 215 005e 52F823F0 		ldr	pc, [r2, r3, lsl #2]
 216 0062 00BF     		.p2align 2
 217              	.L9:
 218 0064 99000000 		.word	.L8+1
 219 0068 29010000 		.word	.L7+1
 220 006c 29010000 		.word	.L7+1
 221 0070 29010000 		.word	.L7+1
 222 0074 A1000000 		.word	.L10+1
 223 0078 29010000 		.word	.L7+1
 224 007c 29010000 		.word	.L7+1
 225 0080 29010000 		.word	.L7+1
 226 0084 A9000000 		.word	.L11+1
 227 0088 29010000 		.word	.L7+1
 228 008c 29010000 		.word	.L7+1
 229 0090 29010000 		.word	.L7+1
 230 0094 B1000000 		.word	.L12+1
 231              		.p2align 1
 232              	.L8:
 290:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   {
ARM GAS  /tmp/cc1IMfhe.s 			page 10


 291:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****     case 0x00:  /* MSI used as system clock source */
 292:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****       SystemCoreClock = msirange;
 233              		.loc 1 292 0
 234 0098 314A     		ldr	r2, .L19+8
 235 009a 7B69     		ldr	r3, [r7, #20]
 236 009c 1360     		str	r3, [r2]
 293:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****       break;
 237              		.loc 1 293 0
 238 009e 47E0     		b	.L13
 239              	.L10:
 294:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 295:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****     case 0x04:  /* HSI used as system clock source */
 296:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****       SystemCoreClock = HSI_VALUE;
 240              		.loc 1 296 0
 241 00a0 2F4B     		ldr	r3, .L19+8
 242 00a2 304A     		ldr	r2, .L19+12
 243 00a4 1A60     		str	r2, [r3]
 297:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****       break;
 244              		.loc 1 297 0
 245 00a6 43E0     		b	.L13
 246              	.L11:
 298:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 299:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****     case 0x08:  /* HSE used as system clock source */
 300:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****       SystemCoreClock = HSE_VALUE;
 247              		.loc 1 300 0
 248 00a8 2D4B     		ldr	r3, .L19+8
 249 00aa 2F4A     		ldr	r2, .L19+16
 250 00ac 1A60     		str	r2, [r3]
 301:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****       break;
 251              		.loc 1 301 0
 252 00ae 3FE0     		b	.L13
 253              	.L12:
 302:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 303:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****     case 0x0C:  /* PLL used as system clock  source */
 304:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****       /* PLL_VCO = (HSE_VALUE or HSI_VALUE or MSI_VALUE/ PLLM) * PLLN
 305:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****          SYSCLK = PLL_VCO / PLLR
 306:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****          */
 307:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****       pllsource = (RCC->PLLCFGR & RCC_PLLCFGR_PLLSRC);
 254              		.loc 1 307 0
 255 00b0 294B     		ldr	r3, .L19
 256 00b2 DB68     		ldr	r3, [r3, #12]
 257 00b4 03F00303 		and	r3, r3, #3
 258 00b8 7B60     		str	r3, [r7, #4]
 308:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****       pllm = ((RCC->PLLCFGR & RCC_PLLCFGR_PLLM) >> 4) + 1 ;
 259              		.loc 1 308 0
 260 00ba 274B     		ldr	r3, .L19
 261 00bc DB68     		ldr	r3, [r3, #12]
 262 00be 03F07003 		and	r3, r3, #112
 263 00c2 1B09     		lsrs	r3, r3, #4
 264 00c4 0133     		adds	r3, r3, #1
 265 00c6 3B60     		str	r3, [r7]
 309:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 310:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****       switch (pllsource)
 266              		.loc 1 310 0
 267 00c8 7B68     		ldr	r3, [r7, #4]
 268 00ca 022B     		cmp	r3, #2
 269 00cc 02D0     		beq	.L15
ARM GAS  /tmp/cc1IMfhe.s 			page 11


 270 00ce 032B     		cmp	r3, #3
 271 00d0 06D0     		beq	.L16
 272 00d2 0BE0     		b	.L18
 273              	.L15:
 311:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****       {
 312:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****         case 0x02:  /* HSI used as PLL clock source */
 313:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****           pllvco = (HSI_VALUE / pllm);
 274              		.loc 1 313 0
 275 00d4 234A     		ldr	r2, .L19+12
 276 00d6 3B68     		ldr	r3, [r7]
 277 00d8 B2FBF3F3 		udiv	r3, r2, r3
 278 00dc 3B61     		str	r3, [r7, #16]
 314:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****           break;
 279              		.loc 1 314 0
 280 00de 0BE0     		b	.L17
 281              	.L16:
 315:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 316:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****         case 0x03:  /* HSE used as PLL clock source */
 317:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****           pllvco = (HSE_VALUE / pllm);
 282              		.loc 1 317 0
 283 00e0 214A     		ldr	r2, .L19+16
 284 00e2 3B68     		ldr	r3, [r7]
 285 00e4 B2FBF3F3 		udiv	r3, r2, r3
 286 00e8 3B61     		str	r3, [r7, #16]
 318:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****           break;
 287              		.loc 1 318 0
 288 00ea 05E0     		b	.L17
 289              	.L18:
 319:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 320:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****         default:    /* MSI used as PLL clock source */
 321:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****           pllvco = (msirange / pllm);
 290              		.loc 1 321 0
 291 00ec 7A69     		ldr	r2, [r7, #20]
 292 00ee 3B68     		ldr	r3, [r7]
 293 00f0 B2FBF3F3 		udiv	r3, r2, r3
 294 00f4 3B61     		str	r3, [r7, #16]
 322:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****           break;
 295              		.loc 1 322 0
 296 00f6 00BF     		nop
 297              	.L17:
 323:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****       }
 324:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****       pllvco = pllvco * ((RCC->PLLCFGR & RCC_PLLCFGR_PLLN) >> 8);
 298              		.loc 1 324 0
 299 00f8 174B     		ldr	r3, .L19
 300 00fa DB68     		ldr	r3, [r3, #12]
 301 00fc 03F4FE43 		and	r3, r3, #32512
 302 0100 1A0A     		lsrs	r2, r3, #8
 303 0102 3B69     		ldr	r3, [r7, #16]
 304 0104 02FB03F3 		mul	r3, r2, r3
 305 0108 3B61     		str	r3, [r7, #16]
 325:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****       pllr = (((RCC->PLLCFGR & RCC_PLLCFGR_PLLR) >> 25) + 1) * 2;
 306              		.loc 1 325 0
 307 010a 134B     		ldr	r3, .L19
 308 010c DB68     		ldr	r3, [r3, #12]
 309 010e 03F0C063 		and	r3, r3, #100663296
 310 0112 5B0E     		lsrs	r3, r3, #25
 311 0114 0133     		adds	r3, r3, #1
ARM GAS  /tmp/cc1IMfhe.s 			page 12


 312 0116 5B00     		lsls	r3, r3, #1
 313 0118 BB60     		str	r3, [r7, #8]
 326:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****       SystemCoreClock = pllvco/pllr;
 314              		.loc 1 326 0
 315 011a 3A69     		ldr	r2, [r7, #16]
 316 011c BB68     		ldr	r3, [r7, #8]
 317 011e B2FBF3F3 		udiv	r3, r2, r3
 318 0122 0F4A     		ldr	r2, .L19+8
 319 0124 1360     		str	r3, [r2]
 327:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****       break;
 320              		.loc 1 327 0
 321 0126 03E0     		b	.L13
 322              	.L7:
 328:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** 
 329:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****     default:
 330:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****       SystemCoreClock = msirange;
 323              		.loc 1 330 0
 324 0128 0D4A     		ldr	r2, .L19+8
 325 012a 7B69     		ldr	r3, [r7, #20]
 326 012c 1360     		str	r3, [r2]
 331:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****       break;
 327              		.loc 1 331 0
 328 012e 00BF     		nop
 329              	.L13:
 332:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   }
 333:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   /* Compute HCLK clock frequency --------------------------------------------*/
 334:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   /* Get HCLK prescaler */
 335:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   tmp = AHBPrescTable[((RCC->CFGR & RCC_CFGR_HPRE) >> 4)];
 330              		.loc 1 335 0
 331 0130 094B     		ldr	r3, .L19
 332 0132 9B68     		ldr	r3, [r3, #8]
 333 0134 03F0F003 		and	r3, r3, #240
 334 0138 1B09     		lsrs	r3, r3, #4
 335 013a 0C4A     		ldr	r2, .L19+20
 336 013c D35C     		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 337 013e FB60     		str	r3, [r7, #12]
 336:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   /* HCLK clock frequency */
 337:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c ****   SystemCoreClock >>= tmp;
 338              		.loc 1 337 0
 339 0140 074B     		ldr	r3, .L19+8
 340 0142 1A68     		ldr	r2, [r3]
 341 0144 FB68     		ldr	r3, [r7, #12]
 342 0146 22FA03F3 		lsr	r3, r2, r3
 343 014a 054A     		ldr	r2, .L19+8
 344 014c 1360     		str	r3, [r2]
 338:Drivers/CMSIS/Device/ST/STM32L4xx/Source/Templates/system_stm32l4xx.c **** }
 345              		.loc 1 338 0
 346 014e 1C37     		adds	r7, r7, #28
 347              	.LCFI7:
 348              		.cfi_def_cfa_offset 4
 349 0150 BD46     		mov	sp, r7
 350              	.LCFI8:
 351              		.cfi_def_cfa_register 13
 352              		@ sp needed
 353 0152 5DF8047B 		ldr	r7, [sp], #4
 354              	.LCFI9:
 355              		.cfi_restore 7
ARM GAS  /tmp/cc1IMfhe.s 			page 13


 356              		.cfi_def_cfa_offset 0
 357 0156 7047     		bx	lr
 358              	.L20:
 359              		.align	2
 360              	.L19:
 361 0158 00100240 		.word	1073876992
 362 015c 00000000 		.word	MSIRangeTable
 363 0160 00000000 		.word	SystemCoreClock
 364 0164 0024F400 		.word	16000000
 365 0168 00127A00 		.word	8000000
 366 016c 00000000 		.word	AHBPrescTable
 367              		.cfi_endproc
 368              	.LFE126:
 370              		.text
 371              	.Letext0:
 372              		.file 2 "/opt/gcc-arm-none-eabi-4_9-2015q3/arm-none-eabi/include/machine/_default_types.h"
 373              		.file 3 "/opt/gcc-arm-none-eabi-4_9-2015q3/arm-none-eabi/include/sys/_stdint.h"
 374              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 375              		.file 5 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l476xx.h"
 376              		.file 6 "Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l4xx.h"
ARM GAS  /tmp/cc1IMfhe.s 			page 14


DEFINED SYMBOLS
                            *ABS*:00000000 system_stm32l4xx.c
     /tmp/cc1IMfhe.s:24     .data.SystemCoreClock:00000000 SystemCoreClock
     /tmp/cc1IMfhe.s:21     .data.SystemCoreClock:00000000 $d
     /tmp/cc1IMfhe.s:31     .rodata.AHBPrescTable:00000000 AHBPrescTable
     /tmp/cc1IMfhe.s:28     .rodata.AHBPrescTable:00000000 $d
     /tmp/cc1IMfhe.s:53     .rodata.MSIRangeTable:00000000 MSIRangeTable
     /tmp/cc1IMfhe.s:50     .rodata.MSIRangeTable:00000000 $d
     /tmp/cc1IMfhe.s:67     .text.SystemInit:00000000 $t
     /tmp/cc1IMfhe.s:72     .text.SystemInit:00000000 SystemInit
     /tmp/cc1IMfhe.s:141    .text.SystemInit:00000060 $d
     /tmp/cc1IMfhe.s:147    .text.SystemCoreClockUpdate:00000000 $t
     /tmp/cc1IMfhe.s:152    .text.SystemCoreClockUpdate:00000000 SystemCoreClockUpdate
     /tmp/cc1IMfhe.s:218    .text.SystemCoreClockUpdate:00000064 $d
     /tmp/cc1IMfhe.s:231    .text.SystemCoreClockUpdate:00000098 $t
     /tmp/cc1IMfhe.s:361    .text.SystemCoreClockUpdate:00000158 $d
                     .debug_frame:00000010 $d

NO UNDEFINED SYMBOLS
